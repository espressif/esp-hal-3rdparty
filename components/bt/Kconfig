menu "Bluetooth"
    visible if (IDF_TARGET_ESP32 || IDF_TARGET_ESP32C3 || IDF_TARGET_ESP32S3)

    config BT_ENABLED
        bool "Bluetooth"
        depends on (IDF_TARGET_ESP32 || IDF_TARGET_ESP32C3 || IDF_TARGET_ESP32S3)
        help
            Select this option to enable Bluetooth and show the submenu with Bluetooth configuration choices.

    config BT_CTRL_ESP32
        bool
        depends on BT_ENABLED && IDF_TARGET_ESP32
        default y

    config BT_CTRL_ESP32C3
        bool
        depends on BT_ENABLED && IDF_TARGET_ESP32C3
        default y
    config BT_CTRL_ESP32S3
        bool
        depends on BT_ENABLED && IDF_TARGET_ESP32S3
        default y

    menu "Bluetooth controller(ESP32 Dual Mode Bluetooth)"
        visible if BT_CTRL_ESP32

        source "$IDF_PATH/components/bt/controller/esp32/Kconfig.in"
    endmenu

    menu "Bluetooth controller(ESP32C3 Bluetooth Low Energy)"
        visible if BT_CTRL_ESP32C3

        source "$IDF_PATH/components/bt/controller/esp32c3/Kconfig.in"
    endmenu

    menu "Bluetooth controller(ESP32S3 Bluetooth Low Energy)"
        visible if BT_CTRL_ESP32S3

        source "$IDF_PATH/components/bt/controller/esp32s3/Kconfig.in"
    endmenu

    choice BT_HOST
        prompt "Bluetooth Host"
        depends on BT_ENABLED && (BTDM_CTRL_HCI_MODE_VHCI || BT_CTRL_HCI_MODE_VHCI)
        default BT_BLUEDROID_ENABLED
        help
            This helps to choose Bluetooth host stack

        config BT_BLUEDROID_ENABLED
            bool "Bluedroid - Dual-mode"
            help
                This option is recommended for classic Bluetooth or for dual-mode
                usecases

        config BT_NIMBLE_ENABLED
            bool "NimBLE - BLE only"
            help
                This option is recommended for BLE only usecases to save on memory

        config BT_CONTROLLER_ONLY
            bool "Controller Only"
            help
                This option is recommended when you want to communicate directly with the
                controller (without any host) or when you are using any other host stack
                not supported by Espressif (not mentioned here).

    endchoice

    menu "Bluedroid Options"
        visible if BT_BLUEDROID_ENABLED

        source "$IDF_PATH/components/bt/host/bluedroid/Kconfig.in"
    endmenu
    menu "NimBLE Options"
        visible if BT_NIMBLE_ENABLED

        source "$IDF_PATH/components/bt/host/nimble/Kconfig.in"
    endmenu

endmenu

menuconfig BLE_MESH
    bool "ESP BLE Mesh Support"
    depends on BT_ENABLED
    help
        This option enables ESP BLE Mesh support. The specific features that are
        available may depend on other features that have been enabled in the
        stack, such as Bluetooth Support, Bluedroid Support & GATT support.

source "$IDF_PATH/components/bt/esp_ble_mesh/Kconfig.in"
